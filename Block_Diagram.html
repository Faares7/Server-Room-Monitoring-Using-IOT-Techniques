<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IoT Server Room Monitoring System - Block Diagram</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
            font-family: Arial, sans-serif;
        }
        .container {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            max-width: 1440px;
            margin: 0 auto;
        }
        svg {
            width: 100%;
            height: auto;
            display: block;
        }
    </style>
</head>
<body>
    <div class="container">
        <svg viewBox="0 0 1400 1100" xmlns="http://www.w3.org/2000/svg" width="1400" height="1100">
            <!-- Define styles -->
            <style>
                .block { fill: #ffffff; stroke: #2c3e50; stroke-width: 2.5; }
                .sensor { fill: #e3f2fd; stroke: #1976d2; stroke-width: 2.5; }
                .controller { fill: #fff8e1; stroke: #f57c00; stroke-width: 3.5; }
                .output { fill: #e8f5e9; stroke: #388e3c; stroke-width: 2.5; }
                .interface { fill: #f3e5f5; stroke: #7b1fa2; stroke-width: 2.5; }
                .power { fill: #ffebee; stroke: #c62828; stroke-width: 2.5; }
                .text { font-family: 'Courier New', monospace; font-size: 12px; fill: #1a1a1a; font-weight: 600; }
                .title-text { font-family: 'Courier New', monospace; font-size: 13px; fill: #1a1a1a; font-weight: bold; }
                .header { font-family: 'Courier New', monospace; font-size: 20px; fill: #1a1a1a; font-weight: bold; }
                .line { stroke: #424242; stroke-width: 2.5; fill: none; }
                .data-line { stroke: #1976d2; stroke-width: 2.5; fill: none; }
                .power-line { stroke: #c62828; stroke-width: 3; fill: none; }
                .control-line { stroke: #388e3c; stroke-width: 2.5; fill: none; }
                .pin { fill: #424242; }
                .label-bg { fill: white; opacity: 0.9; }
            </style>

            <!-- Title -->
            <text x="700" y="35" class="header" text-anchor="middle">IoT SERVER ROOM MONITORING SYSTEM</text>
            <text x="700" y="55" class="text" text-anchor="middle" font-size="11px">SCHEMATIC BLOCK DIAGRAM</text>
            <line x1="450" y1="60" x2="950" y2="60" stroke="#424242" stroke-width="2"/>

            <!-- Central Controller - Raspberry Pi 4 -->
            <rect x="550" y="420" width="300" height="220" class="controller" rx="3"/>
            <rect x="555" y="425" width="290" height="30" fill="#f57c00" opacity="0.3"/>
            <text x="700" y="445" class="header" text-anchor="middle" font-size="18px">RASPBERRY Pi 4</text>
            <text x="700" y="465" class="title-text" text-anchor="middle" font-size="11px">CENTRAL CONTROLLER UNIT</text>
            
            <!-- GPIO pins representation -->
            <rect x="560" y="480" width="15" height="150" fill="#424242"/>
            <rect x="825" y="480" width="15" height="150" fill="#424242"/>
            
            <text x="700" y="500" class="text" text-anchor="middle" font-size="11px">┌─────────────────┐</text>
            <text x="700" y="520" class="text" text-anchor="middle" font-size="11px">│ DATA PROCESSOR  │</text>
            <text x="700" y="540" class="text" text-anchor="middle" font-size="11px">│ THRESHOLD CHECK │</text>
            <text x="700" y="560" class="text" text-anchor="middle" font-size="11px">│ ALERT GENERATOR │</text>
            <text x="700" y="580" class="text" text-anchor="middle" font-size="11px">│ DATA LOGGER     │</text>
            <text x="700" y="600" class="text" text-anchor="middle" font-size="11px">│ NETWORK COMM.   │</text>
            <text x="700" y="620" class="text" text-anchor="middle" font-size="11px">└─────────────────┘</text>

            <!-- Left Side: Input Sensors -->
            
            <!-- AM2320 Temperature & Humidity -->
            <rect x="50" y="150" width="180" height="80" class="sensor" rx="3"/>
            <circle cx="230" cy="190" r="4" class="pin"/>
            <text x="140" y="175" class="title-text" text-anchor="middle">AM2320</text>
            <text x="140" y="192" class="text" text-anchor="middle" font-size="11px">TEMP &amp; HUMIDITY</text>
            <text x="140" y="207" class="text" text-anchor="middle" font-size="10px">I2C Protocol</text>
            <text x="140" y="222" class="text" text-anchor="middle" font-size="9px">[SDA/SCL]</text>

            <!-- MQ-2 Smoke Sensor -->
            <rect x="50" y="270" width="180" height="80" class="sensor" rx="3"/>
            <circle cx="230" cy="310" r="4" class="pin"/>
            <text x="140" y="295" class="title-text" text-anchor="middle">MQ-2</text>
            <text x="140" y="312" class="text" text-anchor="middle" font-size="11px">SMOKE/GAS SENSOR</text>
            <text x="140" y="327" class="text" text-anchor="middle" font-size="10px">Analog Output</text>
            <text x="140" y="342" class="text" text-anchor="middle" font-size="9px">[VOUT]</text>

            <!-- ACS712 Current Sensor -->
            <rect x="50" y="390" width="180" height="80" class="sensor" rx="3"/>
            <circle cx="230" cy="430" r="4" class="pin"/>
            <text x="140" y="415" class="title-text" text-anchor="middle">ACS712 (5A)</text>
            <text x="140" y="432" class="text" text-anchor="middle" font-size="11px">CURRENT SENSOR</text>
            <text x="140" y="447" class="text" text-anchor="middle" font-size="10px">Analog Output</text>
            <text x="140" y="462" class="text" text-anchor="middle" font-size="9px">[VOUT]</text>

            <!-- MCP3008 ADC -->
            <rect x="300" y="330" width="180" height="80" class="interface" rx="3"/>
            <circle cx="300" cy="350" r="4" class="pin"/>
            <circle cx="300" cy="390" r="4" class="pin"/>
            <circle cx="480" cy="370" r="4" class="pin"/>
            <text x="390" y="355" class="title-text" text-anchor="middle">MCP3008</text>
            <text x="390" y="372" class="text" text-anchor="middle" font-size="11px">8-CH ADC</text>
            <text x="390" y="387" class="text" text-anchor="middle" font-size="10px">SPI Interface</text>
            <text x="390" y="402" class="text" text-anchor="middle" font-size="9px">[MOSI/MISO/CLK/CS]</text>

            <!-- Pi Camera -->
            <rect x="50" y="510" width="180" height="80" class="sensor" rx="3"/>
            <circle cx="230" cy="550" r="4" class="pin"/>
            <text x="140" y="535" class="title-text" text-anchor="middle">Pi CAMERA v1.3</text>
            <text x="140" y="552" class="text" text-anchor="middle" font-size="11px">VIDEO MODULE</text>
            <text x="140" y="567" class="text" text-anchor="middle" font-size="10px">CSI Interface</text>
            <text x="140" y="582" class="text" text-anchor="middle" font-size="9px">[15-pin ribbon]</text>

            <!-- AI Inference Module -->
            <rect x="50" y="720" width="180" height="80" class="sensor" rx="3"/>
            <circle cx="140" cy="720" r="4" class="pin"/>
            <circle cx="230" cy="760" r="4" class="pin"/>
            <text x="140" y="745" class="title-text" text-anchor="middle">AI Inference Module</text>
            <text x="140" y="762" class="text" text-anchor="middle" font-size="10px">- Preprocessing</text>
            <text x="140" y="777" class="text" text-anchor="middle" font-size="10px">- Human Detection</text>
            <text x="140" y="792" class="text" text-anchor="middle" font-size="10px">- CNN Model</text>

            <!-- Right Side: Outputs & Actuators -->
            
            <!-- LED Indicator -->
            <rect x="1170" y="50" width="180" height="80" class="output" rx="3"/>
            <circle cx="1170" cy="90" r="4" class="pin"/>
            <text x="1260" y="75" class="title-text" text-anchor="middle">LED INDICATOR</text>
            <text x="1260" y="92" class="text" text-anchor="middle" font-size="11px">STATUS OUTPUT</text>
            <text x="1260" y="107" class="text" text-anchor="middle" font-size="10px">GPIO Control</text>
            <text x="1260" y="122" class="text" text-anchor="middle" font-size="9px">[Digital ON/OFF]</text>

            <!-- Alarm/Buzzer -->
            <rect x="1170" y="150" width="180" height="80" class="output" rx="3"/>
            <circle cx="1170" cy="190" r="4" class="pin"/>
            <text x="1260" y="175" class="title-text" text-anchor="middle">ALARM/BUZZER</text>
            <text x="1260" y="192" class="text" text-anchor="middle" font-size="11px">ALERT OUTPUT</text>
            <text x="1260" y="207" class="text" text-anchor="middle" font-size="10px">GPIO Control</text>
            <text x="1260" y="222" class="text" text-anchor="middle" font-size="9px">[Digital ON/OFF]</text>

            <!-- Connection line between LED and Buzzer -->
            <path d="M 1260 130 L 1260 150" class="control-line"/>
            <rect x="1250" y="135" width="40" height="18" class="label-bg"/>
            <text x="1270" y="147" class="text" font-size="9px" fill="#388e3c">GPIO17</text>

            <!-- MOSFET Driver Circuit -->
            <rect x="950" y="270" width="180" height="80" class="interface" rx="3"/>
            <circle cx="950" cy="310" r="4" class="pin"/>
            <circle cx="1130" cy="310" r="4" class="pin"/>
            <text x="1040" y="295" class="title-text" text-anchor="middle">N-MOSFET</text>
            <text x="1040" y="312" class="text" text-anchor="middle" font-size="11px">DRIVER CIRCUIT</text>
            <text x="1040" y="327" class="text" text-anchor="middle" font-size="10px">Gate/Source/Drain</text>
            <text x="1040" y="342" class="text" text-anchor="middle" font-size="9px">[Switch Control]</text>

            <!-- Cooling Fan -->
            <rect x="1170" y="270" width="180" height="80" class="output" rx="3"/>
            <circle cx="1170" cy="310" r="4" class="pin"/>
            <text x="1260" y="295" class="title-text" text-anchor="middle">COOLING FAN</text>
            <text x="1260" y="312" class="text" text-anchor="middle" font-size="11px">5V 30×30×10mm</text>
            <text x="1260" y="327" class="text" text-anchor="middle" font-size="10px">MOSFET Driver</text>
            <text x="1260" y="342" class="text" text-anchor="middle" font-size="9px">[PWM Control]</text>

            <!-- Cloud/Network -->
            <rect x="1170" y="510" width="180" height="80" class="output" rx="3"/>
            <circle cx="1170" cy="550" r="4" class="pin"/>
            <text x="1260" y="535" class="title-text" text-anchor="middle">CLOUD/NETWORK</text>
            <text x="1260" y="552" class="text" text-anchor="middle" font-size="11px">REMOTE MONITOR</text>
            <text x="1260" y="567" class="text" text-anchor="middle" font-size="10px">WiFi/Ethernet</text>
            <text x="1260" y="582" class="text" text-anchor="middle" font-size="9px">[TCP/IP]</text>

            <!-- Dashboard Display -->
            <rect x="1170" y="620" width="180" height="80" class="output" rx="3"/>
            <circle cx="1170" cy="660" r="4" class="pin"/>
            <text x="1260" y="645" class="title-text" text-anchor="middle">DASHBOARD</text>
            <text x="1260" y="662" class="text" text-anchor="middle" font-size="11px">Remote Viewing &amp; Tracking</text>
            <text x="1260" y="677" class="text" text-anchor="middle" font-size="10px">Web Interface</text>
            <text x="1260" y="692" class="text" text-anchor="middle" font-size="9px">[HTTP/HTTPS]</text>

            <!-- Connection between Cloud/Network and Dashboard -->
            <path d="M 1260 590 L 1260 620" class="control-line"/>
            <rect x="1235" y="603" width="80" height="18" class="label-bg"/>
            <text x="1275" y="615" class="text" font-size="9px" fill="#388e3c" text-anchor="middle">API/Data Stream</text>

            <!-- Power Supply Unit -->
            <rect x="500" y="800" width="400" height="100" class="power" rx="3"/>
            <rect x="505" y="805" width="390" height="25" fill="#c62828" opacity="0.3"/>
            <text x="700" y="823" class="title-text" text-anchor="middle">POWER DISTRIBUTION</text>
            <text x="700" y="848" class="text" text-anchor="middle" font-size="12px">USB-C POWER ADAPTER</text>
            <text x="700" y="865" class="text" text-anchor="middle" font-size="11px">5V DC @ 3A</text>
            
            <!-- Power connection points -->
            <circle cx="550" cy="800" r="5" fill="#c62828"/>
            <circle cx="700" cy="800" r="5" fill="#c62828"/>
            <circle cx="850" cy="800" r="5" fill="#c62828"/>

            <!-- Connection Lines -->
            
            <!-- AM2320 to RPi (I2C) -->
            <path d="M 230 190 L 500 190 L 500 490 L 550 490" class="data-line"/>
            <rect x="475" y="180" width="70" height="18" class="label-bg"/>
            <text x="510" y="192" class="text" font-size="10px" fill="#1976d2">I2C Bus</text>

            <!-- MQ-2 to MCP3008 CH0 -->
            <path d="M 230 310 L 260 310 L 260 350 L 300 350" class="data-line"/>
            <rect x="255" y="335" width="30" height="18" class="label-bg"/>
            <text x="270" y="347" class="text" font-size="9px" fill="#1976d2">CH0</text>

            <!-- ACS712 to MCP3008 CH1 -->
            <path d="M 230 430 L 260 430 L 260 390 L 300 390" class="data-line"/>
            <rect x="255" y="415" width="30" height="18" class="label-bg"/>
            <text x="270" y="427" class="text" font-size="9px" fill="#1976d2">CH1</text>

            <!-- MCP3008 to RPi (SPI) -->
            <path d="M 480 370 L 510 370 L 510 540 L 550 540" class="data-line"/>
            <rect x="475" y="525" width="60" height="18" class="label-bg"/>
            <text x="505" y="537" class="text" font-size="10px" fill="#1976d2">SPI Bus</text>

            <!-- Camera to RPi (CSI) -->
            <path d="M 230 550 L 490 550 L 490 570 L 550 570" class="data-line"/>
            <rect x="340" y="540" width="40" height="18" class="label-bg"/>
            <text x="360" y="552" class="text" font-size="10px" fill="#1976d2">CSI</text>

            <!-- Camera to AI Module -->
            <path d="M 140 590 L 140 720" class="data-line"/>
            <rect x="100" y="645" width="80" height="18" class="label-bg"/>
            <text x="140" y="657" class="text" font-size="9px" fill="#1976d2" text-anchor="middle">Image Frames</text>

            <!-- AI Module to RPi -->
            <path d="M 230 760 L 490 760 L 490 600 L 550 600" class="data-line"/>
            <rect x="330" y="750" width="110" height="18" class="label-bg"/>
            <text x="385" y="762" class="text" font-size="9px" fill="#1976d2" text-anchor="middle">Detection Results</text>

            <!-- RPi to Buzzer (GPIO) -->
            <path d="M 850 500 L 900 500 L 900 120 L 1100 120 L 1100 190 L 1170 190" class="control-line"/>
            <rect x="895" y="110" width="55" height="18" class="label-bg"/>
            <text x="922" y="122" class="text" font-size="9px" fill="#388e3c">GPIO17</text>

            <!-- RPi to MOSFET (PWM) -->
            <path d="M 850 510 L 920 510 L 920 310 L 950 310" class="control-line"/>
            <rect x="860" y="500" width="90" height="18" class="label-bg"/>
            <text x="905" y="512" class="text" font-size="9px" fill="#388e3c">GPIO18/PWM</text>

            <!-- MOSFET to Fan -->
            <path d="M 1130 310 L 1170 310" class="control-line"/>
            <rect x="1132" y="300" width="25" height="18" class="label-bg"/>
            <text x="1144" y="312" class="text" font-size="9px" fill="#388e3c">5V</text>

            <!-- RPi to Network -->
            <path d="M 850 530 L 910 530 L 910 550 L 1170 550" class="control-line"/>
            <rect x="970" y="540" width="80" height="18" class="label-bg"/>
            <text x="1010" y="552" class="text" font-size="9px" fill="#388e3c">ETH/WiFi</text>

            <!-- Power Lines -->
            
            <!-- Main 5V input to RPi -->
            <path d="M 700 800 L 700 640" class="power-line"/>

            <!-- LEFT SIDE 5V POWER -->
            <path d="M 550 640 L 550 670 L 10 670 L 10 310" class="power-line"/>
            <path d="M 10 310 L 50 310" class="power-line"/>
            <path d="M 10 430 L 50 430" class="power-line"/>
            <path d="M 10 550 L 50 550" class="power-line"/>

            <!-- LEFT SIDE 3.3V POWER -->
            <path d="M 540 640 L 540 675 L 35 675 L 35 190" stroke="#ff9800" stroke-width="3" fill="none" stroke-dasharray="5,5"/>
            <path d="M 35 190 L 50 190" stroke="#ff9800" stroke-width="3" fill="none" stroke-dasharray="5,5"/>
            <path d="M 35 370 L 300 370" stroke="#ff9800" stroke-width="3" fill="none" stroke-dasharray="5,5"/>

            <!-- RIGHT SIDE 5V POWER -->
            <path d="M 850 640 L 850 770 L 1395 770 L 1395 190 L 1350 190" class="power-line"/>

            <!-- RIGHT SIDE 3.3V POWER -->
            <path d="M 800 640 L 800 780 L 1370 780 L 1370 350" stroke="#ff9800" stroke-width="3" fill="none" stroke-dasharray="5,5"/>
            <path d="M 1370 370 L 1130 370 L 1130 310" stroke="#ff9800" stroke-width="3" fill="none" stroke-dasharray="5,5"/>

            <!-- Power labels -->
            <rect x="5" y="380" width="30" height="18" class="label-bg"/>
            <text x="20" y="392" class="text" font-size="9px" fill="#c62828">+5V</text>
            
            <rect x="5" y="350" width="40" height="18" class="label-bg"/>
            <text x="25" y="362" class="text" font-size="9px" fill="#ff9800">+3.3V</text>
            
            <rect x="685" y="658" width="45" height="18" class="label-bg"/>
            <text x="707" y="670" class="text" font-size="9px" fill="#c62828">+5V IN</text>
            
            <rect x="1350" y="380" width="30" height="18" class="label-bg"/>
            <text x="1365" y="392" class="text" font-size="9px" fill="#c62828">+5V</text>
            
            <rect x="1340" y="350" width="40" height="18" class="label-bg"/>
            <text x="1360" y="362" class="text" font-size="9px" fill="#ff9800">+3.3V</text>

            <!-- Ground symbol -->
            <line x1="700" y1="910" x2="700" y2="925" stroke="#424242" stroke-width="2"/>
            <line x1="680" y1="925" x2="720" y2="925" stroke="#424242" stroke-width="2"/>
            <line x1="688" y1="930" x2="712" y2="930" stroke="#424242" stroke-width="2"/>
            <line x1="694" y1="935" x2="706" y2="935" stroke="#424242" stroke-width="2"/>
            <text x="700" y="950" class="text" font-size="10px" text-anchor="middle">GND</text>

            <!-- Legend Box -->
            <rect x="50" y="980" width="1300" height="80" class="interface" rx="3"/>
            <text x="700" y="1000" class="title-text" text-anchor="middle">SIGNAL LEGEND</text>
            
            <line x1="150" y1="1015" x2="220" y2="1015" class="data-line"/>
            <text x="230" y="1020" class="text" font-size="11px">Data/Signal</text>
            
            <line x1="380" y1="1015" x2="450" y2="1015" class="control-line"/>
            <text x="460" y="1020" class="text" font-size="11px">Control/Output</text>
            
            <line x1="610" y1="1015" x2="680" y2="1015" class="power-line"/>
            <text x="690" y="1020" class="text" font-size="11px">Power (+5V)</text>
            
            <circle cx="900" cy="1015" r="4" class="pin"/>
            <text x="910" y="1020" class="text" font-size="11px">Connection Point</text>
            
            <text x="1150" y="1020" class="text" font-size="11px">─── Bus Lines</text>

            <text x="150" y="1045" class="text" font-size="10px">I2C: 2-wire serial (SDA/SCL)</text>
            <text x="400" y="1045" class="text" font-size="10px">SPI: 4-wire serial (MOSI/MISO/CLK/CS)</text>
            <text x="750" y="1045" class="text" font-size="10px">CSI: Camera Serial Interface</text>
            <text x="1050" y="1045" class="text" font-size="10px">GPIO: General Purpose I/O</text>
        </svg>
    </div>
</body>
</html>